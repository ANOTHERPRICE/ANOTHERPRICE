<!DOCTYPE html>
<html>

<head>

  <title>購物車</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href=".\shopping_cart.css" rel="stylesheet">
  <link href=".\shopping_cart_part.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>

    window.addEventListener('DOMContentLoaded', (event) => {

      var deliveryAmount = document.getElementById("deliveryAmount");
      var discountAmount = document.getElementById("discountAmount");
      var commodityAmount = document.getElementById("commodityAmount");

      var delivery = parseInt(deliveryAmount.innerText);
      var discount = parseInt(discountAmount.innerText);
      var commodity = parseInt(commodityAmount.innerText);

      var total = delivery - discount + commodity;

      var totalAmount = document.getElementById("totalAmount");
      totalAmount.innerText = total;

    });

    window.addEventListener('DOMContentLoaded', (event) => {
      var pointDiscountRadio = document.getElementById("pointDiscount");

      var discountAmount = document.getElementById("discountAmount");
      var money = document.getElementById("money");

      pointDiscountRadio.addEventListener('change', function () {
        if (this.checked) {
          discountAmount.innerText = money.innerText;
          recalculateTotal();
        }
      });

      function recalculateTotal() {
        var delivery = parseInt(deliveryAmount.innerText);
        var discount = parseInt(discountAmount.innerText);
        var commodity = parseInt(commodityAmount.innerText);

        var total = delivery - discount + commodity;

        var totalAmount = document.getElementById("totalAmount");
        totalAmount.innerText = total;
      }
    });

    window.addEventListener('DOMContentLoaded', (event) => {
      var shopRadio = document.getElementById("shop");
      var supermarketRadio = document.getElementById("supermarket");
      var homeRadio = document.getElementById("home");

      var deliveryAmount = document.getElementById("deliveryAmount");

      shopRadio.addEventListener('change', function () {
        if (this.checked) {
          deliveryAmount.innerText = "0";
          recalculateTotal();
        }
      });

      supermarketRadio.addEventListener('change', function () {
        if (this.checked) {
          deliveryAmount.innerText = "40";
          recalculateTotal();
        }
      });

      homeRadio.addEventListener('change', function () {
        if (this.checked) {
          deliveryAmount.innerText = "80";
          recalculateTotal();
        }
      });

      function recalculateTotal() {
        var delivery = parseInt(deliveryAmount.innerText);
        var discount = parseInt(discountAmount.innerText);
        var commodity = parseInt(commodityAmount.innerText);

        var total = delivery - discount + commodity;

        var totalAmount = document.getElementById("totalAmount");
        totalAmount.innerText = total;
      }
    });

    window.addEventListener('DOMContentLoaded', (event) => {

      var m_deliveryAmount = document.getElementById("m_deliveryAmount");
      var m_discountAmount = document.getElementById("m_discountAmount");
      var m_commodityAmount = document.getElementById("m_commodityAmount");

      var m_delivery = parseInt(m_deliveryAmount.innerText);
      var m_discount = parseInt(m_discountAmount.innerText);
      var m_commodity = parseInt(m_commodityAmount.innerText);

      var m_total = m_delivery - m_discount + m_commodity;

      var m_totalAmount = document.getElementById("m_totalAmount");
      m_totalAmount.innerText = m_total;

    });

    window.addEventListener('DOMContentLoaded', (event) => {
      var m_pointDiscountRadio = document.getElementById("m_pointDiscount");

      var m_discountAmount = document.getElementById("m_discountAmount");
      var m_money = document.getElementById("m_money");

      m_pointDiscountRadio.addEventListener('change', function () {
        if (this.checked) {
          m_discountAmount.innerText = m_money.innerText;
          m_recalculateTotal();
        }
      });

      function m_recalculateTotal() {
        var m_delivery = parseInt(m_deliveryAmount.innerText);
        var m_discount = parseInt(m_discountAmount.innerText);
        var m_commodity = parseInt(m_commodityAmount.innerText);

        var m_total = m_delivery - m_discount + m_commodity;

        var m_totalAmount = document.getElementById("m_totalAmount");
        m_totalAmount.innerText = m_total;
      }
    });

    window.addEventListener('DOMContentLoaded', (event) => {
      var m_shopRadio = document.getElementById("m_shop");
      var m_supermarketRadio = document.getElementById("m_supermarket");
      var m_homeRadio = document.getElementById("m_home");

      var m_deliveryAmount = document.getElementById("m_deliveryAmount");

      m_shopRadio.addEventListener('change', function () {
        if (this.checked) {
          m_deliveryAmount.innerText = "0";
          m_recalculateTotal();
        }
      });

      m_supermarketRadio.addEventListener('change', function () {
        if (this.checked) {
          m_deliveryAmount.innerText = "40";
          m_recalculateTotal();
        }
      });

      m_homeRadio.addEventListener('change', function () {
        if (this.checked) {
          m_deliveryAmount.innerText = "80";
          m_recalculateTotal();
        }
      });

      function m_recalculateTotal() {
        var m_delivery = parseInt(m_deliveryAmount.innerText);
        var m_discount = parseInt(m_discountAmount.innerText);
        var m_commodity = parseInt(m_commodityAmount.innerText);

        var m_total = m_delivery - m_discount + m_commodity;

        var m_totalAmount = document.getElementById("m_totalAmount");
        m_totalAmount.innerText = m_total;
      }
    });

  </script>

</head>

<body>

  <div id="computer">

    <div id="body">

      <div id="shoppingTitle">

        <div id="title">

          <a href="../index.html">
            <img class="homeLinkImage" src="../title.png" alt="標題">
          </a>

        </div>

      </div>

      <div id="cart">

        <h1 class="cartTitle">購物車</h1>

        <table class="cart">

          <tr>
            <td style="width: 5rem;">

            </td>
            <td style="width: 24rem;">
              <p class="cartDetail">商品</p>
            </td>
            <td style="width: 12rem;">
              <p class="cartDetail">數量</p>
            </td>
            <td style="width: 12rem;">
              <p class="cartDetail">價格</p>
            </td>
            <td style="width: 12rem;">
              <p class="cartDetail">備註</p>
            </td>
            <td style="width: 1rem;">

            </td>
          </tr>

        </table>

        <div id="cartScrool">

          <table class="cart">

            <tr>
              <td style="width: 5rem;">
                <input type="checkbox">
              </td>
              <td style="width: 24rem;">
                <p class="cartDetail">算你倒楣我就喜歡這樣玩</p>
              </td>
              <td style="width: 12rem;">
                <div class="numberButton">
                  <input class="cartButtonM" type="button" value="－">
                  <input class="cartText" type="text" value="1" readonly>
                  <input class="cartButtonA" type="button" value="＋">
                </div>
              </td>
              <td style="width: 12rem;">
                <p class="cartPrice">299</p>
              </td>
              <td style="width: 12rem;">
              </td>
            </tr>

          </table>

        </div>

        <p class="total">
          <span class="totalPrice">小計</span>
          <span class="totalPriceNumber" id="commodityAmount">299</span>
        </p>

        <h1 class="cartTitle">優惠選擇</h1>

        <p class="discount">
          <label>
            <input type="radio" id="discountCoupon" name="discount" disabled>
            折扣票券，票券代碼
            <input type="text" class="discountCouponNumber" maxlength="15" id="coupon" disabled>
          </label>
        </p>

        <p class="discount">
          <label>
            <input type="radio" id="pointDiscount" name="discount">
            <span>
              點數折抵，尚可折抵
            </span>
            <span class="totalPriceNumber" id="money">
              20
            </span>
            <span>
              元
            </span>
          </label>
        </p>

        <p class="total">
          <span class="totalPrice">折扣</span>
          <span class="totalPriceNumber" id="discountAmount">0</span>
        </p>

        <h1 class="cartTitle">配送方式</h1>

        <p class="discount">
          <label>
            <input type="radio" id="shop" name="checkout">
            <span>
              門市取貨，運費
            </span>
            <span class="totalPriceNumber">
              0
            </span>
            <span>
              元
            </span>
          </label>
        </p>

        <p class="discount">
          <label>
            <input type="radio" id="supermarket" name="checkout">
            <span>
              超商取貨，運費
            </span>
            <span class="totalPriceNumber">
              40
            </span>
            <span>
              元
            </span>
          </label>
        </p>

        <p class="discount">
          <label>
            <input type="radio" id="home" name="checkout">
            <span>
              宅配到府，運費
            </span>
            <span class="totalPriceNumber">
              80
            </span>
            <span>
              元
            </span>
          </label>
        </p>

        <p class="total">
          <span class="totalPrice">運費</span>
          <span class="totalPriceNumber" id="deliveryAmount">0</span>
        </p>

        <br>

        <p class="total">
          <span class="totalPrice">總計</span>
          <span class="totalPriceNumber" id="totalAmount"></span>
        </p>

        <p class="input">
          <input type="submit" class="cart" value="前往結帳"
            onclick="window.location.href='../checkout_page/checkout_page.html'">
        </p>

      </div>

    </div>

    <div id="WebInformation">

      <br>

      <p class="Information">專題名稱：這是另外的價錢電子商務平台</p>
      <p class="Information" style="line-height: 1px;">架設時間：2023、05</p>

    </div>

  </div>

  <div id="mobile">

    <div id="m_title">

      <a href="../index.html">
        <img class="m_homeLinkImage" src="../title.png" alt="標題">
      </a>

    </div>

    <div id="m_cart">

      <h1 class="m_cartTitle">購物車</h1>

      <table class="cart">

        <tr>
          <td style="width: 5rem;">

          </td>
          <td style="width: 24rem;">
            <p class="m_cartDetail">商品</p>
          </td>
          <td style="width: 12rem;">
            <p class="m_cartDetail">數量</p>
          </td>
          <td style="width: 10rem;">
            <p class="m_cartDetail">價格</p>
          </td>
          <td style="width: 6rem;">
            <p class="m_cartDetail">備註</p>
          </td>
        </tr>

        <tr>
          <td>
            <input type="checkbox">
          </td>
          <td>
            <p class="m_cartDetail">算你倒楣我就喜歡這樣玩</p>
          </td>
          <td>
            <div class="numberButton">
              <input class="m_cartButtonM" type="button" value="－">
              <input class="m_cartText" type="text" value="1" readonly>
              <input class="m_cartButtonA" type="button" value="＋">
            </div>
          </td>
          <td>
            <p class="cartPrice">299</p>
          </td>
          <td>

          </td>
        </tr>

      </table>

      <p class="m_total">
        <span class="m_totalPrice">小計</span>
        <span class="m_totalPriceNumber" id="m_commodityAmount">299</span>
      </p>

      <h1 class="m_cartTitle">優惠選擇</h1>

      <p class="m_discount">
        <label>
          <input type="radio" id="m_discountCoupon" name="discount" disabled>
          折扣票券，票券代碼
          <input type="text" class="discountCouponNumber" maxlength="15" id="m_coupon" disabled>
        </label>
      </p>

      <p class="m_discount">
        <label>
          <input type="radio" id="m_pointDiscount" name="discount">
          <span>
            點數折抵，尚可折抵
          </span>
          <span class="m_totalPriceNumber" id="m_money">
            20
          </span>
          <span>
            元
          </span>
        </label>
      </p>

      <p class="m_total">
        <span class="m_totalPrice">折扣</span>
        <span class="m_totalPriceNumber" id="m_discountAmount">0</span>
      </p>

      <h1 class="m_cartTitle">配送方式</h1>

      <p class="m_discount">
        <label>
          <input type="radio" id="m_shop" name="checkout">
          <span>
            門市取貨，運費
          </span>
          <span class="m_totalPriceNumber">
            0
          </span>
          <span>
            元
          </span>
        </label>
      </p>

      <p class="m_discount">
        <label>
          <input type="radio" id="m_supermarket" name="checkout">
          <span>
            超商取貨，運費
          </span>
          <span class="m_totalPriceNumber">
            40
          </span>
          <span>
            元
          </span>
        </label>
      </p>

      <p class="m_discount">
        <label>
          <input type="radio" id="m_home" name="checkout">
          <span>
            宅配到府，運費
          </span>
          <span class="m_totalPriceNumber">
            80
          </span>
          <span>
            元
          </span>
        </label>
      </p>

      <p class="m_total">
        <span class="m_totalPrice">運費</span>
        <span class="m_totalPriceNumber" id="m_deliveryAmount">0</span>
      </p>

      <br>

      <p class="m_total">
        <span class="m_totalPrice">總計</span>
        <span class="m_totalPriceNumber" id="m_totalAmount"></span>
      </p>

      <p class="input">
        <input type="submit" class="m_cart" value="前往結帳"
          onclick="window.location.href='../checkout_page/checkout_page.html'">
      </p>

    </div>

  </div>

</body>

</html>